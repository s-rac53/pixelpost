{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquerykeyframes/0.0.9/jquery.keyframes.min.js" integrity="sha512-QP5Go99SHY6mavZ/iCuYwwN492DcSExp65qhQ6xsFVDhYv1S/d+7V9Di06XxVtVpqp+NvcFIq8Fx13NkmmMUng==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>


        body {
            margin: 0;
            padding: 0;
            background-color: whitesmoke;
        }

        div{
  box-sizing:border-box;
}
        .header {
            background: black;
            height: 100vh;
            width: 100%;

        }

        #logo {
            position: absolute;
            top:20px;
            left: 3.5%;
            max-height: 5vmax;
            height:60vw;
            width:4.5%;
            z-index: 12;
        }

        #image {
            height: 70%;
            width: 70%;
            display: none;
        }



        #canvas1 {
            width: 70%;
            height: 70%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }


        .horizontal-scroll-wrapper{

            background-color: rgba(0, 0, 0, 1);
            width: 100%;
            height: 25vh;
            display: flex;
            flex-wrap: nowrap;
            padding: 20px;
            margin-top: 5vh;
             overflow-x: hidden;
            overflow-y: hidden;
            border: 5px solid black;
            transform: translate3d(0, 0, 0);
}




.first {
	-webkit-animation: bannermove 10s linear infinite;
	   -moz-animation: bannermove 10s linear infinite;
	    -ms-animation: bannermove 10s linear infinite;
	     -o-animation: bannermove 10s linear infinite;
	        animation: bannermove 10s linear infinite;
}

@keyframes bannermove{
 0% {
    margin-left: 0px;
 }
 100% {
    margin-left: -500%;
 }

}

@-moz-keyframes bannermove {
 0% {
   margin-left: 0px;
 }
 100% {
   margin-left: -500%;
 }

}

@-webkit-keyframes bannermove {
 0% {
   margin-left: 0px;
 }
 100% {
   margin-left: -500%;
 }

}

@-ms-keyframes bannermove {
 0% {
   margin-left: 0px;
 }
 100% {
   margin-left: -500%;
 }

}

@-o-keyframes bannermove {
    0% {
        margin-left: 0px;
    }
    100% {
        margin-left: -500%;
    }
}



@keyframes bannermove1{
 0% {
    margin-left: 0px;
 }
 100% {
    margin-left: -140%;
 }

}

@-moz-keyframes bannermove1 {
 0% {
   margin-left: 0px;
 }
 100% {
   margin-left: -140%;
 }

}

@-webkit-keyframes bannermove1 {
 0% {
   margin-left: 0px;
 }
 100% {
   margin-left: -140%;
 }

}

@-ms-keyframes bannermove1 {
 0% {
   margin-left: 0px;
 }
 100% {
   margin-left: -140%;
 }

}

@-o-keyframes bannermove1 {
    0% {
        margin-left: 0px;
    }
    100% {
        margin-left: -140%;
    }
}



.horizontal-scroll-wrapper img {
	-webkit-transition: all 1s ease;
	-moz-transition: all 1s ease;
	-o-transition: all 1s ease;
	-ms-transition: all 1s ease;
	transition: all 1s ease;
     height: 30vh;
 width: 30vh;
 background-color: black;
 color: #bbbbbb;
 flex-shrink: 0;
outline: dashed rgba(32, 32, 32, 0.85) 15px;
   outline-offset:15px ;
  filter: drop-shadow(1px 1px 6px lightgrey) grayscale(50%);
}

.horizontal-scroll-wrapper img:hover {
	-webkit-transform: scale(1.9);
	-moz-transform: scale(1.9);
	-o-transform: scale(1.9);
	-ms-transform: scale(1.9);
	transform: scale(1.9);
	cursor: pointer;
    filter: grayscale(0%);
    z-index: 10;
	-webkit-box-shadow: 0px 3px 5px rgba(0,0,0,0.2);
	-moz-box-shadow: 0px 3px 5px rgba(0,0,0,0.2);
	box-shadow: 0px 3px 5px rgba(0,0,0,0.2);
    outline: none;
}
 #menu {
     position: absolute;
     top:20px;
     right: 3.5%;
     display: flex;

 }
  #menu a {
      float: left;
      display: inline;
      text-decoration: none;
      text-transform: uppercase;
      padding: 2vmin;
      color: rgba(255, 255, 255, 0.47);
      font-size: 2.2vmin;
      font-weight: 900;
  }

    </style>

</head>
<body>
<div class="header">
    <img id="logo" src="{% static 'PPP Logo.png' %}"> <!--Logo-->

    <div id="menu">
        <a href="#">SERVICES</a>
        <a href="#">PORTFOLIO</a>
        <a href="#">ABOUT US</a>
        <a href="#">CONTACT</a>
    </div>


    <img id="image" src = {% static 'PPP Logo.png' %} >
<canvas id="canvas1"></canvas>
</div>


 <div class="horizontal-scroll-wrapper">

  <img class="first"  src="{% static 'face.jpg' %}" >
  <img src="{% static 'anime3.png' %}" >
  <img src="{% static 'anime2.png' %}" >
  <img src="{% static 'face.jpg' %}" >
  <img src="{% static 'anime2.png' %}" >
  <img src="{% static 'anime3.png' %}" >
  <img src="{% static 'face.jpg' %}" >
  <img src="{% static 'anime2.png' %}" >
  <img src="{% static 'anime3.png' %}" >
  <img src="{% static 'face.jpg' %}" >
  <img src="{% static 'anime2.png' %}" >
  <img src="{% static 'anime3.png' %}" >
  <img src="{% static 'face.jpg' %}" >
  <img src="{% static 'anime2.png' %}" >
  <img src="{% static 'anime3.png' %}" >
  <img src="{% static 'face.jpg' %}" >

</div>

Hi <br> Hi


<script>

   $(document).ready(function () {

         const img1 = '{% static 'face.jpg' %}';
         const img2 = '{% static 'anime2.png' %}';
         const img3 = '{% static 'anime3.png' %}';

        const canvas = document.getElementById('canvas1');
       const image1 = new Image();
       image1.src = img1;



        var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
        if( width > 375) {

            timer = setInterval(myTimer, 27000);


                function myTimer() {

                      source = image1.getAttribute("src");
                      ctx.clearRect(0,0, canvas.width, canvas.height);
                              if(source === img1) {
                                   image1.src = img2;

                                                 }

                              if(source === img2) {
                                   image1.src = img3;
                                                   }

                               if(source === img3) {
                                   image1.src = img1;

                                                  }
                               }
        }





    const ctx = canvas.getContext('2d');
image1.addEventListener('load', function () {
    canvas.width = image1.width;
    canvas.height = image1.height;
    ctx.drawImage(image1,0,0,canvas.width, canvas.height);
    const pixels = ctx.getImageData(0,0,canvas.width,canvas.height);
    ctx.clearRect(0,0,canvas.width, canvas.height);
    let particlesArray = [];
    const numberOfParticles = 8000;
    let mappedImage = [];
    for ( let y = 0; y < canvas.height; y++) {
        let row = [];
        for ( let x=0; x < canvas.width; x++) {
            const red = pixels.data[(y * 4 * pixels.width) + (x * 4)];
             const green = pixels.data[(y * 4 * pixels.width) + (x * 4 + 1)];
              const blue = pixels.data[(y * 4 * pixels.width) + (x * 4 + 2)];
              const brightness = calculateRelativeBrightness(red, green, blue);
              const cell = [
                  cellBrightness = brightness,
              ]
             row.push(cell);
        }
        mappedImage.push(row);
    }
    function  calculateRelativeBrightness(red, green, blue) {
        return Math.sqrt((red * red) * 0.299 +
            (green * green) * 0.587 +
            (blue * blue) * 0.114
        )/100;

    }
    class Particle {
        constructor () {
            this.x = Math.random() * canvas.width;
            this.y = 0;
            this.speed = 0;
            this.velocity = Math.random() * 1.5;
            this.size = Math.random() * 1.5 + 1;
            this.position1 = Math.floor(this.y);
            this.position2 = Math.floor(this.x);

            }

            update () {
                this.position1 = Math.floor(this.y);
                this.position2 = Math.floor(this.x);
                this.speed = mappedImage[this.position1][this.position2][0];
                let movement = ( 2.5 - this.speed) + this.velocity;
                this.y  += movement;
                if (this.y > canvas.height) {
                    this.y=0;
                    this.x = Math.random() * canvas.width;
                }
            }

            draw () {
                ctx.beginPath();
                ctx.fillStyle = 'white';
                ctx.arc(this.x,this.y,this.size,0,Math.PI * 2);
                ctx.fill();
            }
        }
     function  init() {
         for( let i = 0; i < numberOfParticles; i++) {
             particlesArray.push(new Particle);
         }
     }
     init();
 animate();




        function animate () {


             ctx.globalAlpha = 0.05;
            ctx.fillStyle = 'rgb(0,0,0)';
            ctx.fillRect(0,0,canvas.width, canvas.height);
            ctx.globalAlpha = 0.2;
            for(let i=0; i < particlesArray.length; i++) {
                 particlesArray[i].update();
                 ctx.globalAlpha = particlesArray[i].speed * 0.5;
                 particlesArray[i].draw();

            }


            myreq = requestAnimationFrame(animate);

           setTimeout(function(){
               cancelAnimationFrame(myreq);
               canvas.remove();
               image.style.display = "block";



    }, 81000);
          }


    });
    });
function myFunction(x) {
  if (x.matches) { // If media query matches

    $(".first").css('-webkit-animation','bannermove1 16s linear infinite');
     $(".first").css('-moz-animation','bannermove1 16s linear infinite');
    $(".first").css('-ms-animation','bannermove1 16s linear infinite');
    $(".first").css('-o-animation','bannermove1 16s linear infinite');
    $(".first").css('animation','bannermove1 16s linear infinite');




  }
}

var x = window.matchMedia("(min-width: 768px)")
myFunction(x) // Call listener function at run time
x.addListener(myFunction) // Attach listener function on state changes


</script>
</body>
</html>